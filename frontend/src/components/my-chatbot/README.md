# AI Chatbot with n8n, Gemini, and Supabase

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå Chatbot AI ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£ (RAG) ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ **n8n** ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (Backend Workflow), **Google Gemini** ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏°‡∏≠‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö ‡πÅ‡∏•‡∏∞ **Supabase** ‡πÄ‡∏õ‡πá‡∏ô Vector Database ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

## üõ† Tech Stack

* **Frontend:** React (Vite) + Tailwind CSS
* **Widget Library:** `@n8n/chat`
* **Workflow Automation:** n8n
* **AI Model:** Google Gemini (Google AI Studio)
* **Database:** Supabase (PostgreSQL + pgvector)

---

## üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå (Frontend)

1.  **Clone ‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå**
2.  **‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Package**
    ```bash
    npm install
    ```
3.  **‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå**
    ```bash
    npm run dev
    ```
4.  ‡πÄ‡∏õ‡∏¥‡∏î Browser ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `http://localhost:5173` (‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà Terminal ‡∏ö‡∏≠‡∏Å)

---

## ‚öôÔ∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ n8n (Backend Workflow)

‡∏´‡∏≤‡∏Å‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ Account ‡πÉ‡∏´‡∏°‡πà ‡∏´‡∏£‡∏∑‡∏≠ Server ‡πÉ‡∏´‡∏°‡πà ‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏ô‡∏µ‡πâ:

### 1. Import Workflow
* ‡∏ô‡∏≥‡πÑ‡∏ü‡∏•‡πå `.json` ‡∏ó‡∏µ‡πà Export ‡πÑ‡∏ß‡πâ ‡∏°‡∏≤ Import ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà n8n

### 2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Credentials (‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡πÉ‡∏´‡∏°‡πà)
* **Google Gemini API:** ‡πÉ‡∏™‡πà API Key ‡∏à‡∏≤‡∏Å Google AI Studio
* **Supabase API:** ‡πÉ‡∏™‡πà URL ‡πÅ‡∏•‡∏∞ Service Role Key
* **Postgres:** ‡πÉ‡∏™‡πà Connection String ‡∏Ç‡∏≠‡∏á Supabase

### 3. ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Node ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (‡∏Å‡∏±‡∏ô‡∏•‡∏∑‡∏°!)

#### üîπ Webhook Node
* **Method:** `POST`
* **Authentication:** `None` (‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ)
* **Respond:** ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `Using 'Respond to Webhook' Node`

#### üîπ AI Agent Node
* **Prompt Source:** ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `Define below (Expression)`
* **Text:** ‡πÉ‡∏™‡πà‡∏™‡∏π‡∏ï‡∏£‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å Widget ‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:
    ```javascript
    {{ $json.body.chatInput }}
    ```

#### üîπ Respond to Webhook Node (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å)
‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Frontend ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà error:
* **Respond With:** `JSON`
* **Response Body:** ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏ß‡∏á‡πÄ‡∏•‡πá‡∏ö `()` ‡∏Ñ‡∏£‡∏≠‡∏ö object ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏±‡∏ô n8n ‡∏™‡∏±‡∏ö‡∏™‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î:
    ```javascript
    {{ ({ "output": $json.output || $json.text || "‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏á" }) }}
    ```

---

## üìÇ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå Frontend

```text
my-chatbot/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ChatWidget.jsx  <-- ‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á Chatbot (‡πÅ‡∏Å‡πâ URL n8n ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà)
‚îÇ   ‚îú‚îÄ‚îÄ App.jsx             <-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏´‡∏•‡∏±‡∏Å
‚îÇ   ‚îî‚îÄ‚îÄ main.jsx
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ README.md